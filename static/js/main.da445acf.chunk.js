(this["webpackJsonpdesafio-07"]=this["webpackJsonpdesafio-07"]||[]).push([[0],{17:function(n,e,t){n.exports=t.p+"static/media/income.df4567f0.svg"},18:function(n,e,t){n.exports=t.p+"static/media/outcome.bb31a5f3.svg"},19:function(n,e,t){n.exports=t.p+"static/media/total.7f99c5ac.svg"},45:function(n,e,t){n.exports=t.p+"static/media/logo.ce269cac.svg"},50:function(n,e,t){n.exports=t.p+"static/media/alert.78a343ae.svg"},54:function(n,e,t){n.exports=t(86)},86:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),c=t(21),o=t.n(c),l=t(10),i=t(9),u=t(12),s=t.n(u),m=t(53),p=t(16),f=t(15),d=t(41),g=t.n(d).a.create({baseURL:"http://localhost:3333"}),x=t(2),b=t(3);function h(){var n=Object(x.a)(["\n  background: #5636d3;\n  padding: 30px 0;\n  max-width: 100vw;\n\n  header {\n    width: 100%;\n    margin: 0 auto;\n    padding: ",";\n    display: flex;\n    align-items: ",";\n    justify-content: ",";\n    flex-direction: ",";\n\n    img {\n      width: ",";\n    }\n\n    nav {\n      a {\n        color: #fff;\n        text-decoration: none;\n        font-size: 16px;\n        transition: opacity 0.2s;\n\n        & + a {\n          margin-left: ",";\n        }\n\n        &:hover {\n          opacity: 0.6;\n        }\n      }\n    }\n  }\n"]);return h=function(){return n},n}var E=b.c.div(h(),(function(n){return"small"===n.size?"8px 16px ":"0 20px 150px"}),(function(n){return"small"===n.size?"":"center"}),(function(n){return"small"===n.size?"center":"space-between"}),(function(n){return"small"===n.size?"column":"row"}),(function(n){return"small"===n.size?"160px":""}),(function(n){return"small"===n.size?"32px":"16px"})),v=t(45),w=t.n(v),y=function(n){var e=n.size,t=void 0===e?"large":e;return(r.a.createElement(E,{size:t},r.a.createElement("header",null,r.a.createElement("img",{src:w.a,alt:"GoFinances"}),r.a.createElement("nav",null,r.a.createElement(l.b,{to:"/"},"Listagem"),r.a.createElement(l.b,{to:"/import"},"Importar")))))},j=t(17),O=t.n(j),z=t(18),k=t.n(z),F=t(19),D=t.n(F);function S(){var n=Object(x.a)(["\n  background: ",";\n  padding: 22px 32px;\n  border-radius: 5px;\n  color: ",";\n\n  header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    p {\n      font-size: 16px;\n    }\n  }\n\n  h1 {\n    margin-top: 14px;\n    font-size: 36px;\n    font-weight: normal;\n    line-height: 54px;\n  }\n"]);return S=function(){return n},n}function I(){var n=Object(x.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 32px;\n  margin-top: -150px;\n"]);return I=function(){return n},n}var A=b.c.section(I()),R=b.c.div(S(),(function(n){return n.total?"#FF872C":"#fff"}),(function(n){return n.total?"#fff":"#363F5F"})),q=function(n){var e=n.income,t=n.outcome,a=n.total;return(r.a.createElement(A,null,r.a.createElement(R,null,r.a.createElement("header",null,r.a.createElement("p",null,"Entradas"),r.a.createElement("img",{src:O.a,alt:"Income"})),r.a.createElement("h1",{"data-testid":"balance-income"},e)),r.a.createElement(R,null,r.a.createElement("header",null,r.a.createElement("p",null,"Sa\xeddas"),r.a.createElement("img",{src:k.a,alt:"Outcome"})),r.a.createElement("h1",{"data-testid":"balance-outcome"},t)),r.a.createElement(R,{total:!0},r.a.createElement("header",null,r.a.createElement("p",null,"Total"),r.a.createElement("img",{src:D.a,alt:"Total"})),r.a.createElement("h1",{"data-testid":"balance-total"},a))))},C=(t(80),t(47));function T(){var n=Object(x.a)(["\n  width: 100%;\n  background: ",";\n  padding: 24px 16px;\n  border-radius: 5px;\n  color: ",";\n\n  header {\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n    flex-direction: row;\n\n    p {\n      font-size: 14px;\n    }\n\n    img {\n      max-width: 40px;\n      max-height: 40px;\n    }\n  }\n\n  h1 {\n    margin-top: 50px;\n    font-size: 36px;\n    font-weight: normal;\n    line-height: 54px;\n  }\n"]);return T=function(){return n},n}function N(){var n=Object(x.a)(["\n  margin-top: -60px;\n  width: 100%;\n\n  div {\n    div {\n      ul {\n        li {\n          min-width: 300px !important;\n          background: transparent !important;\n          height: 200px !important;\n          margin-left: 6px !important;\n        }\n      }\n    }\n  }\n"]);return N=function(){return n},n}var P=Object(b.c)(C.Carousel)(N()),L=b.c.div(T(),(function(n){return n.total?"#FF872C":"#fff"}),(function(n){return n.total?"#fff":"#363F5F"})),V=function(n){var e=n.income,t=n.outcome,a=n.total;return(r.a.createElement(P,{centerMode:!1,showArrows:!1,showStatus:!1,showThumbs:!1,showIndicators:!1},r.a.createElement(L,null,r.a.createElement("header",null,r.a.createElement("p",null,"Entradas"),r.a.createElement("img",{src:O.a,alt:"Income"})),r.a.createElement("h1",{"data-testid":"balance-income"},e)),r.a.createElement(L,null,r.a.createElement("header",null,r.a.createElement("p",null,"Sa\xeddas"),r.a.createElement("img",{src:k.a,alt:"Outcome"})),r.a.createElement("h1",{"data-testid":"balance-outcome"},t)),r.a.createElement(L,{total:!0},r.a.createElement("header",null,r.a.createElement("p",null,"Total"),r.a.createElement("img",{src:D.a,alt:"Total"})),r.a.createElement("h1",{"data-testid":"balance-total"},a))))};function B(){var n=Object(x.a)(["\n  margin-top: 64px;\n\n  table {\n    width: 100%;\n    border-spacing: 0 8px;\n\n    th {\n      color: #969cb3;\n      font-weight: normal;\n      padding: 20px 32px;\n      text-align: left;\n      font-size: 16px;\n      line-height: 24px;\n    }\n\n    td {\n      padding: 20px 32px;\n      border: 0;\n      background: #fff;\n      font-size: 16px;\n      font-weight: normal;\n      color: #969cb3;\n\n      &.title {\n        color: #363f5f;\n      }\n\n      &.income {\n        color: #12a454;\n      }\n\n      &.outcome {\n        color: #e83f5b;\n      }\n    }\n\n    td:first-child {\n      border-radius: 8px 0 0 8px;\n    }\n\n    td:last-child {\n      border-radius: 0 8px 8px 0;\n    }\n  }\n"]);return B=function(){return n},n}var U=b.c.section(B()),J=function(n){var e=n.transactions;return(r.a.createElement(U,null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xedtulo"),r.a.createElement("th",null,"Pre\xe7o"),r.a.createElement("th",null,"Categoria"),r.a.createElement("th",null,"Data"))),r.a.createElement("tbody",null,e.map((function(n){return r.a.createElement("tr",{key:n.id},r.a.createElement("td",{className:"title"},n.title),r.a.createElement("td",{className:n.type},"outcome"===n.type&&" - ",n.formattedValue),r.a.createElement("td",null,n.category.title),r.a.createElement("td",null,n.formattedDate))}))))))};function M(){var n=Object(x.a)(["\n  color: ",";\n  font-style: normal;\n  font-weight: normal;\n  font-size: 20px;\n  line-height: 30px;\n"]);return M=function(){return n},n}function G(){var n=Object(x.a)(["\n  color: #363f5f;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 21px;\n"]);return G=function(){return n},n}function _(){var n=Object(x.a)(["\n  margin-top: 19px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  span {\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 21px;\n    color: #969cb3;\n  }\n"]);return _=function(){return n},n}function H(){var n=Object(x.a)(["\n  margin-top: 64px;\n\n  ul {\n    width: 100vw;\n    list-style-type: none;\n\n    li {\n      display: flex;\n      flex-direction: column;\n      padding: 16px;\n      border-radius: 8px;\n      max-width: 280px;\n      border: 0;\n      margin: 8px;\n      background: #fff;\n      font-size: 16px;\n      font-weight: normal;\n      color: #969cb3;\n    }\n  }\n"]);return H=function(){return n},n}var K=b.c.section(H()),Q=b.c.div(_()),W=b.c.h3(G()),X=b.c.h5(M(),(function(n){return"income"===n.type?"#12a454":"#e83f5b"})),Y=function(n){var e=n.transactions;return(r.a.createElement(K,null,r.a.createElement("ul",null,e.map((function(n){return r.a.createElement("li",{key:n.id},r.a.createElement("header",null,r.a.createElement(W,{className:"title"},n.title)),r.a.createElement(X,{type:n.type},"outcome"===n.type&&" - ",n.formattedValue),r.a.createElement(Q,null,r.a.createElement("span",null,n.category.title)," ",r.a.createElement("span",null,n.formattedDate)))})))))},Z=function(n){return Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n)};function $(){var n=Object(x.a)(["\n  font-size: 48px;\n  color: #3a3a3a;\n"]);return $=function(){return n},n}function nn(){var n=Object(x.a)(["\n  width: 100vw;\n  margin: ",";\n  padding: ",";\n"]);return nn=function(){return n},n}var en=window.screen.width,tn=b.c.div(nn(),en<600?"0px":"0 auto",en<600?"40px 0px":"40px 20px"),an=(b.c.h1($()),function(){var n=Object(a.useState)([]),e=Object(f.a)(n,2),t=e[0],c=e[1],o=Object(a.useState)({}),l=Object(f.a)(o,2),i=l[0],u=l[1];Object(a.useEffect)((function(){function n(){return(n=Object(p.a)(s.a.mark((function n(){var e,t,a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.get("/transactions");case 2:e=n.sent,t=e.data.transactions.map((function(n){return Object(m.a)({},n,{formattedValue:Z(n.value),formattedDate:new Date(n.created_at).toLocaleDateString("pt-br")})})),a={income:Z(e.data.balance.income),outcome:Z(e.data.balance.outcome),total:Z(e.data.balance.total)},c(t),u(a);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]);var d=window.screen.width>600?"large":"small";return(r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{size:d}),r.a.createElement(tn,null,"large"===d?r.a.createElement(q,{income:i.income,outcome:i.outcome,total:i.total}):r.a.createElement(V,{income:i.income,outcome:i.outcome,total:i.total}),"large"===d?r.a.createElement(J,{transactions:t}):r.a.createElement(Y,{transactions:t}))))}),rn=t(48),cn=t.n(rn);function on(){var n=Object(x.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex: 1;\n\n  button {\n    border: 0;\n    background: transparent;\n    color: #e83f5b;\n    margin-left: 5px;\n    cursor: pointer;\n  }\n\n  div {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n\n    span {\n      font-size: 12px;\n      color: #999;\n      margin-top: 5px;\n    }\n  }\n"]);return on=function(){return n},n}function ln(){var n=Object(x.a)(["\n  margin-top: 20px;\n\n  li {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #444;\n\n    & + li {\n      margin-top: 15px;\n    }\n  }\n"]);return ln=function(){return n},n}var un=b.c.ul(ln()),sn=b.c.div(on()),mn=function(n){var e=n.files;return(r.a.createElement(un,null,e.map((function(n){return r.a.createElement("li",{key:n.name},r.a.createElement(sn,null,r.a.createElement("div",null,r.a.createElement("strong",null,n.name),r.a.createElement("span",null,n.readableSize))))}))))},pn=t(52);function fn(){var n=Object(x.a)(["\n  display: flex;\n  font-size: 16px;\n  line-height: 24px;\n  padding: 48px 0;\n\n  color: ",";\n\n  justify-content: center;\n  align-items: center;\n"]);return fn=function(){return n},n}function dn(){var n=Object(x.a)(["\n  border: 1.5px dashed #969cb3;\n  border-radius: 5px;\n  cursor: pointer;\n\n  transition: height 0.2s ease;\n\n  ","\n\n  ","\n"]);return dn=function(){return n},n}function gn(){var n=Object(x.a)(["\n  border-color: #e83f5b;\n"]);return gn=function(){return n},n}function xn(){var n=Object(x.a)(["\n  border-color: #12a454;\n"]);return xn=function(){return n},n}var bn=Object(b.b)(xn()),hn=Object(b.b)(gn()),En=b.c.div.attrs({className:"dropzone"})(dn(),(function(n){return n.isDragActive&&bn}),(function(n){return n.isDragReject&&hn})),vn={default:"#5636D3",error:"#e83f5b",success:"#12a454"},wn=b.c.p(fn(),(function(n){var e=n.type;return vn[e||"default"]})),yn=function(n){var e=n.onUpload;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pn.a,{accept:".csv, application/vnd.ms-excel, text/csv,",onDropAccepted:function(n){return e(n)}},(function(n){var e=n.getRootProps,t=n.getInputProps,a=n.isDragActive,c=n.isDragReject;return(r.a.createElement(En,Object.assign({},e(),{isDragActive:a,isDragReject:c}),r.a.createElement("input",Object.assign({},t(),{"data-testid":"upload"})),function(n,e){return n?e?r.a.createElement(wn,{type:"error"},"Arquivo n\xe3o suportado"):r.a.createElement(wn,{type:"success"},"Solte o arquivo aqui"):r.a.createElement(wn,null,"Selecione ou arraste o arquivo aqui.")}(a,c)))})))},jn=t(51);function On(){var n=Object(x.a)(["\n  margin-top: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  p {\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    line-height: 18px;\n    color: #969cb3;\n\n    img {\n      margin-right: 5px;\n    }\n  }\n\n  button {\n    background: #ff872c;\n    color: #fff;\n    border-radius: 5px;\n    padding: 15px 80px;\n    border: 0;\n    transition: background-color 0.2s;\n\n    &:hover {\n      background: ",";\n    }\n  }\n"]);return On=function(){return n},n}function zn(){var n=Object(x.a)(["\n  background: #fff;\n  margin-top: 40px;\n  border-radius: 5px;\n  padding: 64px;\n"]);return zn=function(){return n},n}function kn(){var n=Object(x.a)(["\n  font-weight: 500;\n  font-size: 36px;\n  line-height: 54px;\n  color: #363f5f;\n  text-align: center;\n"]);return kn=function(){return n},n}function Fn(){var n=Object(x.a)(["\n  width: 100%;\n  max-width: 736px;\n  margin: 0 auto;\n  padding: 40px 20px;\n"]);return Fn=function(){return n},n}var Dn=b.c.div(Fn()),Sn=b.c.h1(kn()),In=b.c.section(zn()),An=b.c.section(On(),Object(jn.a)(.2,"#ff872c")),Rn=t(50),qn=t.n(Rn),Cn=function(){var n=Object(a.useState)([]),e=Object(f.a)(n,2),t=e[0],c=e[1],o=Object(i.f)();function l(){return(l=Object(p.a)(s.a.mark((function n(){var e,a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=new FormData,t.length){n.next=3;break}return n.abrupt("return");case 3:return a=t[0],e.append("file",a.file,a.name),n.prev=5,n.next=8,g.post("/transactions/import",e);case 8:o.push("/"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(5),console.log(n.t0.response.error);case 14:case"end":return n.stop()}}),n,null,[[5,11]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{size:"small"}),r.a.createElement(Dn,null,r.a.createElement(Sn,null,"Importar uma transa\xe7\xe3o"),r.a.createElement(In,null,r.a.createElement(yn,{onUpload:function(n){var e=n.map((function(n){return{file:n,name:n.name,readableSize:cn()(n.size)}}));c(e)}}),!!t.length&&r.a.createElement(mn,{files:t}),r.a.createElement(An,null,r.a.createElement("p",null,r.a.createElement("img",{src:qn.a,alt:"Alert"}),"Permitido apenas arquivos CSV"),r.a.createElement("button",{onClick:function(){return l.apply(this,arguments)},type:"button"},"Enviar")))))},Tn=function(){return r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,component:an}),r.a.createElement(i.a,{path:"/import",component:Cn}))};function Nn(){var n=Object(x.a)(['\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    background: #F0F2F5 ;\n    -webkit-font-smoothing: antialiased;\n    max-width: 100vw;\n  }\n\n  body, input, button {\n    font: 16px "Poppins", sans-serif;\n  }\n\n  button {\n    cursor: pointer;\n  }\n\n']);return Nn=function(){return n},n}var Pn=Object(b.a)(Nn()),Ln=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pn,null),r.a.createElement(l.a,{basename:window.location.pathname||""},r.a.createElement(Tn,null)))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ln,null)),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.da445acf.chunk.js.map